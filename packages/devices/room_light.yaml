#
# Room Light
#

light:
  - platform: mqtt
    name: Room White Light
    command_topic: cmnd/IR_Bridge/IRSEND
    payload_on: '0,3534,1676,490,402,462,404,436,1296,462,1270,462,404,434,1296,436,456,408,456,406,432,432,1298,436,432,432,432,432,1298,434,432,432,1298,434,432,432,1300,434,432,432,432,432,1298,436,430,434,432,432,432,432,432,434,432,432,432,432,1298,434,1298,434,432,432,1298,434,432,432,432,434,1298,434,432,432,1298,434,432,432,430,434,1298,434,432,434,432,432'
    payload_off: '0,3534,1674,490,402,462,402,462,1270,464,1270,462,404,460,1272,462,406,434,430,434,432,434,1298,436,432,432,432,434,1298,436,432,432,1298,434,432,434,1298,436,432,432,432,434,1298,436,432,432,432,434,432,432,432,434,1298,434,1298,434,1298,434,1298,434,430,434,1298,460,406,432,432,434,430,434,1298,436,1298,434,432,432,432,434,1298,434,432,432,432,434'
    optimistic: true

  - platform: mqtt
    name: Room Yellow Light
    command_topic: cmnd/IR_Bridge/IRSEND
    payload_on: '0,3508,1702,488,404,460,404,434,1296,438,1296,436,430,458,1272,436,430,458,406,432,432,432,1298,436,432,432,430,434,1298,434,432,432,1298,434,456,408,1298,434,430,434,432,432,1298,434,432,434,430,434,432,432,432,434,1298,460,408,432,1298,434,1298,436,430,434,1298,434,432,434,430,434,432,434,430,434,1298,434,430,434,430,434,1298,434,430,434,432,432'
    payload_off: '0,3508,1702,488,404,436,430,434,1296,436,1296,462,404,434,1298,436,456,408,434,430,432,434,1298,436,430,434,432,432,1298,436,430,434,1298,434,432,434,1298,434,430,434,432,434,1298,436,432,432,432,434,432,432,432,434,1298,436,1298,436,1298,434,1298,434,432,432,1298,436,430,434,432,432,432,434,1298,434,1298,434,432,432,432,432,1298,434,432,432,432,434'
    optimistic: true

  - platform: mqtt
    name: Room Brightness
    command_topic: cmnd/IR_Bridge/IRSEND
    payload_on: '0,3528,1706,434,458,406,432,432,1298,436,1298,458,408,432,1300,434,434,430,456,408,458,406,1298,434,430,434,432,434,1298,436,432,456,1276,432,432,434,1298,434,432,432,432,432,1324,406,432,458,406,458,406,434,458,406,432,432,1298,438,430,456,1274,434,432,432,1298,434,432,456,408,432,1298,434,1296,436,432,432,430,460,406,432,1300,434,430,434,432,434'
    payload_off: '0,3534,1676,490,400,462,402,438,1298,460,1270,462,404,436,1296,436,430,460,406,432,432,434,1296,436,432,434,432,432,1300,434,430,434,1298,434,432,434,1298,434,432,432,432,432,1298,436,430,434,430,434,430,434,432,434,1298,436,1298,434,432,434,1298,436,430,434,1298,434,432,434,430,434,432,432,1298,434,432,434,430,434,430,434,1298,434,432,432,432,434'
    optimistic: true

#
  - platform: mqtt
    name: Room Night Light
    command_topic: cmnd/IR_Bridge/IRSEND
    payload_on: '0,3532,1678,488,402,460,404,436,1296,462,1270,462,406,434,1296,436,432,456,408,432,432,432,1298,436,432,432,432,432,1298,434,432,434,1300,434,434,430,1300,434,432,432,432,432,1298,434,432,432,432,432,432,432,432,432,432,432,1298,434,1298,434,1298,436,432,432,1300,434,432,434,432,432,1298,436,1298,434,1300,434,432,432,432,434,1298,434,432,432,434,432'
    payload_off: '0,3534,1676,490,402,462,402,462,1270,462,1272,436,430,434,1296,436,432,432,432,432,432,432,1298,434,432,432,432,432,1298,434,432,432,1298,436,432,432,1298,434,432,432,432,432,1300,434,432,432,432,432,432,432,432,432,1298,434,1298,434,1298,434,1298,434,432,434,1298,434,432,434,432,432,432,432,1298,434,1300,434,432,432,432,432,1300,434,432,434,432,432'
    optimistic: true

#
# Simulate 4-way toggle switch
#
automation:
  - alias: Turn other room lights off when night light is on
    trigger:
      platform: state
      entity_id: light.room_night_light
      from: "off"
      to: "on"
    action:
      - service: python_script.set_state
        data:
          entity_id: light.room_white_light
          state: "off"
      - service: python_script.set_state
        data:
          entity_id: light.room_yellow_light
          state: "off"

  - alias: Turn other room lights off when white light is on
    trigger:
      platform: state
      entity_id: light.room_white_light
      from: "off"
      to: "on"
    action:
      - service: python_script.set_state
        data:
          entity_id: light.room_night_light
          state: "off"
      - service: python_script.set_state
        data:
          entity_id: light.room_yellow_light
          state: "off"

  - alias: Turn other room lights off when yellow light is on
    trigger:
      platform: state
      entity_id: light.room_yellow_light
      from: "off"
      to: "on"
    action:
      - service: python_script.set_state
        data:
          entity_id: light.room_night_light
          state: "off"
      - service: python_script.set_state
        data:
          entity_id: light.room_white_light
          state: "off"
